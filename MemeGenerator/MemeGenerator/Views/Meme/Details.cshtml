@model MemeGenerator.Data.MemeResponse

@{
    ViewBag.Title = "Details";
}

@section links {
    <link href="~/Content/Details.css" rel="stylesheet" />
}

<div>
    <h3>@Html.DisplayNameFor(model => model.Title): @Html.DisplayFor(model => model.Title) </h3>
    <p>Submitted by: @Html.DisplayFor(model => model.CreatorUsername)</p>

    <img id="image" data-id=@Model.Id src=@Model.Url style="display:none" />
    <canvas id="canvas"></canvas>

    <div class="voting">
        <span id="upvote" class="bold">▲</span>
        <span id="votes">0</span>
        <span id="downvote" class="bold">▼</span>
    </div>

</div>
<p>
    @Html.ActionLink("Back to List", "Index")
</p>

<hr />

@Html.ActionLink("Add Comment", "Comment", new { id = Model.Id }) |
@Html.ActionLink("Back to List", "Index")
<h4>Comments</h4>
@if (Model.Comments.Count > 0)
{
    <table class="table">
        <tr>
            <th>
                Author
            </th>
            <th>
                Comment
            </th>
        </tr>
        @foreach (var item in Model.Comments)
        {
            <tr>
                <td>@Html.DisplayFor(modelItem => item.Creator.Username)</td>
                <td>@Html.DisplayFor(modelItem => item.Text)</td>
            </tr>

        }
    </table>
}
else
{
    <p>No comments yet</p>
}
<hr />

<script src="~/Scripts/details.js"></script>
<script src="~/Scripts/Voting.js"></script>